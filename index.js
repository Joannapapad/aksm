function preloadImages(e){e.forEach(e=>{let s=new Image;s.src=e})}const lowResImageUrls=["assets/slide_2_main_low.jpg","assets/slide_3_main_low.jpg","assets/slide_4_main_low.webp"],highResImageUrls=["assets/slide_2_main_high.jpg","assets/slide_3_main.jpg","assets/slide_4_main.webp"];function updateMedia(){let e=document.getElementById("videoSource"),s=document.getElementById("image1"),t=document.getElementById("image2"),a=document.getElementById("image3"),r=document.getElementById("image4"),n=document.getElementById("image5"),o=document.getElementById("image6"),l=document.getElementById("image7"),i=document.getElementById("image8"),c=document.getElementById("image9"),d=document.getElementById("image10"),m=document.getElementById("image11"),g=document.getElementById("image12");window.innerWidth<800?(e.src="https://firebasestorage.googleapis.com/v0/b/aksmweb-a8516.appspot.com/o/video.mp4?alt=media&token=d181133e-6109-44a6-9941-e2cd5c8148fb",s.src="assets/slide_2_main_low.jpg",t.src="assets/slide_3_main_low.jpg",a.src="assets/slide_4_main_low.webp",r.src="assets/aksm_news_5_low.jpg",n.src="assets/aksm_img2_low.jpg",o.src="assets/portfolio/2024_042_Elementengineers.Paros/2024_042_low.jpg",l.src="assets/portfolio/2021_009_Temes.Hilton/2021_009_low.jpg",i.src="assets/portfolio/2022_049_Terna.PwC/2022_049.jpg",c.src="assets/portfolio/2022_062_Terna.Vasiliko.Cyprus/2022_062.jpg",d.src="assets/portfolio/2023_073_Ballian.Noval/2023_073.jpg",m.src="assets/portfolio/2024_039_Metka_Galleria.Riviera/2024_039.jpg",g.src="assets/portfolio/2024_036_Ballian.Avenue_Mon/2024_036.jpg"):(e.src="https://firebasestorage.googleapis.com/v0/b/aksmweb-a8516.appspot.com/o/video_high.mp4?alt=media&token=7efe5d1b-868a-4e36-8026-2b7c4e38f5f1",s.src="assets/slide_2_main_high.jpg",t.src="assets/slide_3_main.jpg",a.src="assets/slide_4_main.webp",r.src="assets/aksm_news_5.jpg",n.src="assets/aksm_img2.jpg",o.src="assets/portfolio/2024_042_Elementengineers.Paros/revit.png",l.src="assets/portfolio/2021_009_Temes.Hilton/image_front.jpg",i.src="assets/portfolio/2022_049_Terna.PwC/image_front.jpg",c.src="assets/portfolio/2022_062_Terna.Vasiliko.Cyprus/image_front.jpg",d.src="assets/portfolio/2023_073_Ballian.Noval/image_front.jpg",m.src="assets/portfolio/2024_039_Metka_Galleria.Riviera/image_front.jpg",g.src="assets/portfolio/2024_036_Ballian.Avenue_Mon/image_front.jpg");let u=e.closest("video");u.load()}preloadImages(lowResImageUrls),preloadImages(highResImageUrls),fetch("header.html").then(e=>e.text()).then(e=>{document.getElementById("menu-container").innerHTML=e;let s=document.createElement("script");s.src="nav.js",s.defer=!0,document.body.appendChild(s)}),window.addEventListener("load",()=>{document.body.classList.add("loaded")}),window.addEventListener("load",updateMedia),window.addEventListener("resize",updateMedia),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".carousel-slide"),s=0,t=e.length;function a(s){e.forEach((e,t)=>{t===s?(e.style.opacity="1",e.style.zIndex="-1",e.classList.add("active")):(e.style.opacity="0",e.style.zIndex="-2",e.classList.remove("active"))})}setInterval(function e(){a(s=(s+1)%t)},6e3),a(s)});const animateObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate"),animateObserver.unobserve(e.target))})},{threshold:.3}),elementsToObserve=document.querySelectorAll(".text-left, .services_text-left, .about_services_title, .animated-line-container, .animated-line-container2, .heading, .project, .text-right, .vertical-separator, .services_vertical-separator, .vertical-separator2, .heropanel__content, .vertical-line-container, .customers, .row a, .carousel");elementsToObserve.forEach(e=>animateObserver.observe(e)),elementsToObserve.forEach(e=>animateObserver.observe(e));const counters=[{counterId:"counter1",startCount:0,maxCount:23,interval:50},{counterId:"counter2",startCount:1400,maxCount:2e3,interval:-100},{counterId:"counter3",startCount:0,maxCount:80,interval:10}],counterObserver=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let{counterId:s,startCount:t,maxCount:a,interval:r}=e.target.dataset;startCountdown(e.target,parseInt(t),parseInt(a),parseInt(r)),counterObserver.unobserve(e.target)}})},{threshold:.3});function startCountdown(e,s,t,a){let r=s;e.textContent=r;let n=setInterval(()=>{r++,e.textContent=r,r>=t&&clearInterval(n)},a)}counters.forEach(e=>{let s=document.getElementById(e.counterId);s&&(s.dataset.startCount=e.startCount,s.dataset.maxCount=e.maxCount,s.dataset.interval=e.interval,counterObserver.observe(s))});const logos=[{src:"assets/constumers/LOGOS/LOGOS/stfa.jpg",alt:"STFA"},{src:"assets/constumers/LOGOS/LOGOS/LOGO_TOSONI.jpg",alt:"tosoni"},{src:"assets/constumers/LOGOS/LOGOS/LOGO_village_roadshow.jpg",alt:"village_cinema"},{src:"assets/constumers/LOGOS/LOGOS/alja.jpg",alt:"alja"},{src:"assets/constumers/LOGOS/LOGOS/l&-T-logo.jpg",alt:"I&T"},{src:"assets/constumers/LOGOS/LOGOS/logo_aktor_en.jpg",alt:"aktor"},{src:"assets/constumers/LOGOS/LOGOS/alysj.jpg",alt:"alysj"},{src:"assets/constumers/LOGOS/EOLFI.jpg",alt:"eolfi"},{src:"assets/constumers/LOGOS/EMEK.JPG",alt:"emek"},{src:"assets/constumers/LOGOS/ELMEC SPORT.jpg",alt:"emelksport"},{src:"assets/constumers/LOGOS/DSTEEL.jpg",alt:"steel"},{src:"assets/constumers/LOGOS/DIMAND.JPG",alt:"dimand"},{src:"assets/constumers/LOGOS/CYCLON.jpg",alt:"cyclon"},{src:"assets/constumers/LOGOS/CORE.JPG",alt:"core"},{src:"assets/constumers/LOGOS/BIC.jpg",alt:"bic"},{src:"assets/constumers/LOGOS/BEMEKEP.JPG",alt:"bemekep"},{src:"assets/constumers/LOGOS/ARKTEAM.JPG",alt:"arkteam"},{src:"assets/constumers/LOGOS/ARCON. CONST..jpg",alt:"arcon"},{src:"assets/constumers/LOGOS/ALUMAN.JPG",alt:"aluman"},{src:"assets/constumers/LOGOS/alstom.jpg",alt:"alstom"},{src:"assets/constumers/LOGOS/ZINON ATH..JPG",alt:"zinon"},{src:"assets/constumers/LOGOS/YPOURGEIO DHMOSIAS TAXIS.JPG",alt:"ypoyrgeio"},{src:"assets/constumers/LOGOS/xalyvourgiki.jpg",alt:"xalivourgiki"},{src:"assets/constumers/LOGOS/TERNA.jpg",alt:"terna"},{src:"assets/constumers/LOGOS/terkenlis1.jpg",alt:"terkenlis"},{src:"assets/constumers/LOGOS/SWLIN. KORINTHOU.jpg",alt:"svlin"},{src:"assets/constumers/LOGOS/sidma ae1.jpg",alt:"sidma"},{src:"assets/constumers/LOGOS/SANYO HELLAS.jpg",alt:"sanyo"},{src:"assets/constumers/LOGOS/SAMIA INTERNATIONAL.JPG",alt:"samia"},{src:"assets/constumers/LOGOS/MOXLOS.jpg",alt:"moxlos"},{src:"assets/constumers/LOGOS/METRON.JPG",alt:"metron"},{src:"assets/constumers/LOGOS/METKA.jpg",alt:"metka"},{src:"assets/constumers/LOGOS/maillis.jpg",alt:"maillis"},{src:"assets/constumers/LOGOS/LEROY MERLIN.jpg",alt:"leroi"},{src:"assets/constumers/LOGOS/KOCH + PARTNERS.JPG",alt:"koch + partners"},{src:"assets/constumers/LOGOS/karenta ae.jpg",alt:"karenta"},{src:"assets/constumers/LOGOS/intrakat.jpg",alt:"intrakat"},{src:"assets/constumers/LOGOS/IMBREGILO.jpg",alt:"IMBREGILO"},{src:"assets/constumers/LOGOS/h & m.jpg",alt:"h&m"},{src:"assets/constumers/LOGOS/FOKAS.JPG",alt:"fokas"},{src:"assets/constumers/LOGOS/FOCAL.JPG",alt:"focal"}];function generateScrollerContent(e){let s=document.querySelector(".scroller__inner");e.forEach(e=>{let t=document.createElement("div");t.classList.add("circle");let a=document.createElement("img");a.setAttribute("loading","lazy"),a.setAttribute("src",e.src),a.setAttribute("alt",e.alt),t.appendChild(a),s.appendChild(t)})}if(generateScrollerContent(logos),!window.matchMedia("(prefers-reduced-motion: reduce)").matches){let e=document.querySelectorAll(".scroller");e.forEach(e=>{e.setAttribute("data-animated",!0);let s=e.querySelector(".scroller__inner");if(s){let t=Array.from(s.children);t.forEach(e=>{let t=e.cloneNode(!0);t.setAttribute("aria-hidden",!0),s.appendChild(t)})}})}const next=document.querySelector(".next"),prev=document.querySelector(".prev"),slider=document.querySelector(".slider"),sections=Array.from(slider.children);let sectionIndex=0,startX,isSwiping=!1,isDragging=!1;function showSlide(e){slider.style.transform=`translateX(-${100*e}%)`,slider.style.transition="transform 0.5s ease"}function nextSlide(){sectionIndex<sections.length-1?sectionIndex++:sectionIndex=0,showSlide(sectionIndex)}function prevSlide(){sectionIndex>0?sectionIndex--:sectionIndex=sections.length-1,showSlide(sectionIndex)}next.addEventListener("click",function(){clearInterval(autoSlideInterval),nextSlide(),autoSlideInterval=setInterval(nextSlide,5e3)}),prev.addEventListener("click",function(){clearInterval(autoSlideInterval),prevSlide(),autoSlideInterval=setInterval(nextSlide,5e3)}),showSlide(sectionIndex);let autoSlideInterval=setInterval(nextSlide,5e3);slider.addEventListener("touchstart",function(e){startX=e.touches[0].pageX,isSwiping=!0,clearInterval(autoSlideInterval)}),slider.addEventListener("touchmove",function(e){if(isSwiping){let s=startX-e.touches[0].pageX;s>50?(nextSlide(),isSwiping=!1,autoSlideInterval=setInterval(nextSlide,5e3)):s<-50&&(prevSlide(),isSwiping=!1,autoSlideInterval=setInterval(nextSlide,5e3))}}),slider.addEventListener("touchend",function(){isSwiping=!1}),slider.addEventListener("mousedown",function(e){startX=e.pageX,isDragging=!0,clearInterval(autoSlideInterval)}),slider.addEventListener("mousemove",function(e){if(isDragging){let s=startX-e.pageX;s>50?(nextSlide(),isDragging=!1,autoSlideInterval=setInterval(nextSlide,5e3)):s<-50&&(prevSlide(),isDragging=!1,autoSlideInterval=setInterval(nextSlide,5e3))}}),slider.addEventListener("mouseup",function(){isDragging=!1}),slider.addEventListener("mouseleave",function(){isDragging=!1});const carousel=document.querySelector(".carousel"),arrowIcons=document.querySelectorAll(".project_wrapper i");if(carousel&&carousel.querySelectorAll("img").length>0){let s=carousel.querySelectorAll("img")[0],t=()=>{let e=carousel.scrollWidth-carousel.clientWidth;arrowIcons[0].style.display=0===carousel.scrollLeft?"none":"block",arrowIcons[1].style.display=carousel.scrollLeft>=e?"none":"block"};arrowIcons.forEach(e=>{e.addEventListener("click",()=>{let a=s.clientWidth+14,r="left"===e.id?-a:a;carousel.scrollLeft+=r,setTimeout(t,60)})}),t()}function changeImage(e,s){e.querySelector("img").src=s}function restoreImage(e,s){e.querySelector("img").src=s}fetch("footer.html").then(e=>e.text()).then(e=>{document.getElementById("footer__cont").innerHTML=e});

  const scriptURL = 'https://script.google.com/macros/s/AKfycbwU3MRCwC23AnvYZorqqjv9RNGu62nXYUHrM6PmmDBP6eU396ldQ0ctix0dXUUJbLpR/exec'; // Replace with your actual script URL
  const form = document.forms['submit-to-google-sheet'];
  let isSubmitting = false; // Flag to check if form is currently being submitted

  form.addEventListener('submit', e => {
    e.preventDefault();

    // Check if the form is already being submitted
    if (isSubmitting) {
      return; // Ignore further clicks until the current submission is done
    }

    isSubmitting = true; // Set the flag to true to prevent further submissions

    fetch(scriptURL, { method: 'POST', body: new FormData(form) })
      .then(response => response.json())
      .then(data => {
        if (data.result === 'success') {
          form.reset(); // Clear the form
          document.querySelector('.thank-you-message').style.display = 'block'; // Show thank you message
        } else {
          console.error('Error!', data.error);
          alert('There was an error processing your request. Please try again.');
        }
      })
      .catch(error => {
        console.error('Error!', error.message);
        alert('There was an error processing your request. Please try again.');
      })
      .finally(() => {
        isSubmitting = false; // Reset the flag after submission (success or failure)
      });
  });
