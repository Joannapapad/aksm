<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organizational Chart</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f3f3f3;
        }
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(209, 209, 209, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .fullscreen-image {
            max-width: 90%;
            max-height: 90%;
            transition: transform 0.3s ease;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 30px;
            color: white;
            cursor: pointer;
        }
        .org-chart {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 1500px;
            min-width: 950px;
        }
        .box {
        border: 2px solid black;
        padding: 10px;
        display: inline-block;
        background-color: #f3f3f3;
        font-weight: bold;
        width: 200px;
        text-align: center;
        border-radius: 5px;  /* Ensure rounded corners */
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;  /* Smooth animation */
        }

        .box:hover {
            transform: scale(1.05);  /* Slightly increase size on hover */
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);  /* Optional shadow effect */
        }

        .connector {
            width: 2px;
            height: 20px;
            background-color: black;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .box-vertical{
            height: 110px;
            width: 2px;
            background-color: black;
            margin: auto;
            position: absolute;
        }

        .horizontal {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .horizontal .connector {
            width: 40px;
            height: 2px;
            background-color: black;
        }
        .level {
            display: flex;
            justify-content: center;
            gap: 40px;
        }
        .sub-level {
            display: flex;
            justify-content: space-evenly;
            width: 100%;
        }
        .vertical-line {
            height: 50px;
            width: 2px;
            background-color: black;
            margin: auto;
        }
        .bottom-lines {
            display: flex;
            justify-content: center;
            align-items: start;

        }
        .bottom-lines .connector {
            height: 2px;
            width: 250px;
            background-color: black;
        }

        .header{
            font-size: 1em;
            font-weight: 600;
            margin: 5px;
        }
        .box{
            font-weight: 400;
            font-size: 0.9em;
        }

    </style>
</head>
<body>

<div id="diagram-container"></div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const diagramContainer = document.getElementById("diagram-container");

    function updateDiagramContent() {
        diagramContainer.innerHTML = ""; // Clear previous content

        if (window.innerWidth > 1000) {
            // Show the organizational chart (HTML structure)
            diagramContainer.innerHTML = `
               
<div class="org-chart">
    <!-- Top level -->
    <div class="box" style="border-width: 2px;"><h3 class="header">ΓΕΝΙΚΟΣ ΔΙΕΥΘΥΝΤΗΣ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΑΛΕΞΑΝΔΡΟΣ ΚΑΡΔΙΤΣΑΣ</div>
    <div class="vertical-line"></div>

    <!-- Second Level -->
    <div class="horizontal">
        <div class="box"><h3 class="header">ΓΡΑΜΜΑΤΕΙΑ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΑΜΒΡΟΣΙΑΔΟΥ ΕΛΕΝΗ</div>
        <div class="connector"></div>
        <div class="box-vertical"></div>
        <div class="connector"></div>
        <div class="box"><h3 class="header">ΕΚΠΡΟΣΩΠΟΣ ΔΙΑΧΕΙΡΙΣΗΣ ΠΟΙΟΤΗΤΑΣ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΖΑΧΑΡΗ ΓΕΩΡΓΙΑ</div>
    </div>
    <div class="vertical-line"></div>

    <!-- Third Level -->
    <div class="horizontal">
        
        <div class="box"><h3 class="header">ΝΟΜΙΚΟΣ ΣΥΜΒΟΥΛΟΣ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΕΞΩΤΕΡΙΚΟΣ ΣΥΝΕΡΓΑΤΗΣ</div>
        <div class="box-vertical"></div>
        <div class="connector"></div>

        <div class="connector"></div>
        <div class="box"><h3 class="header">ΤΕΧΝΙΚΟΣ ΑΣΦΑΛΕΙΑΣ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΓΙΟΛΑΔΗΣ</div>

    </div>
    <div class="vertical-line"></div>
    <div class="horizontal">
        
        <div class="box" style="border: transparent;"></div>
        <div class="connector" style="background-color: transparent;"></div>

        <div class="box-vertical"></div>

        <div class="connector"></div>
        <div class="box"><h3 class="header">ΥΠΕΥΘΥΝΟΣ ΜΗΧΑΝΟΡΓΑΝΩΣΗΣ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΓΙΟΛΑΔΗΣ</div>

    </div>

    <div class="vertical-line"></div>

    <!-- Fourth Level -->
    <div class="bottom-lines">
        <div class="vertical-line"></div>

        <div class="connector"></div>
        <div class="vertical-line"></div>

        <div class="connector"></div>
        <div class="vertical-line"></div>

        <div class="connector"></div>
        <div class="vertical-line"></div>

    </div>
    <div class="sub-level">
        <div>
            <div class="box"><h3 class="header">ΤΜΗΜΑ ΤΟΠΟΓΡΑΦΙΚΩΝ ΜΕΛΕΤΩΝ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΑΛΕΞΑΝΔΡΟΣ ΚΑΡΔΙΤΣΑΣ</div>
            <div class="vertical-line"></div>
            <div class="box"><h3 class="header">ΤΟΠΟΓΡΑΦΟΙ ΜΗΧΑΝΙΚΟΙ</h3></div>
        </div>
        <div>
            <div class="box"><h3 class="header">ΤΜΗΜΑ ΕΡΓΟΤΑΞΙΩΝ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΑΛΕΞΑΝΔΡΟΣ ΚΑΡΔΙΤΣΑΣ</div>
            <div class="vertical-line"></div>
            <div class="box"><h3 class="header">ΕΡΓΟΤΑΞΙΑ</h3></div>
        </div>
        <div>
            <div class="box"><h3 class="header">ΥΠΕΥΘΥΝΟΣ ΠΡΟΜΗΘΕΙΩΝ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΖΑΧΑΡΗ ΓΕΩΡΓΙΑ</div>
        </div>
        <div>
            <div class="box"><h3 class="header">ΥΠΕΥΘΥΝΟΣ ΑΝΑΠΤΥΞΗΣ & ΛΕΙΤΟΥΡΓΙΑΣ</h3><hr style="border: none; height: 1px; background-color: #333; width: 50%; margin: 10px auto;">ΖΑΧΑΡΗ ΓΕΩΡΓΙΑ</div>
        </div>
    </div>
</div>

            `;
        } else {
            // Show the image when screen width is <= 1000px
            const img = document.createElement("img");
            img.src = "assets/diagram.jpg";
            img.alt = "Diagram";
            img.style.width = "100%";
            img.style.cursor = "pointer";
            img.addEventListener("click", () => openImageInFullscreen(img.src));
            diagramContainer.appendChild(img);
        }
    }

    // Run function initially
    updateDiagramContent();

    // Update on window resize
    window.addEventListener("resize", updateDiagramContent);
});

// Fullscreen image viewer function
function openImageInFullscreen(src) {
    const modal = document.createElement("div");
    modal.classList.add("image-modal");

    const image = document.createElement("img");
    image.src = src;
    image.classList.add("fullscreen-image");

    const closeButton = document.createElement("span");
    closeButton.innerHTML = "&times;";
    closeButton.classList.add("close-button");

    modal.appendChild(image);
    modal.appendChild(closeButton);
    document.body.appendChild(modal);

    document.body.style.overflow = "hidden";

    closeButton.addEventListener("click", () => closeModal(modal));
    modal.addEventListener("click", (e) => {
        if (e.target === modal) closeModal(modal);
    });

    let scale = 1, posX = 0, posY = 0, isDragging = false, startX, startY;

    modal.addEventListener("wheel", (event) => {
        event.preventDefault();
        scale += event.deltaY * -0.001;
        scale = Math.min(Math.max(1, scale), 3);
        applyTransform();
    });

    image.addEventListener("mousedown", (event) => {
        isDragging = true;
        startX = event.clientX - posX;
        startY = event.clientY - posY;
    });

    document.addEventListener("mousemove", (event) => {
        if (isDragging) {
            posX = event.clientX - startX;
            posY = event.clientY - startY;
            applyTransform();
        }
    });

    document.addEventListener("mouseup", () => {
        isDragging = false;
    });

    let initialDistance = null;
    
    modal.addEventListener("touchstart", (event) => {
        if (event.touches.length === 2) {
            initialDistance = calculateDistance(event.touches);
        } else if (event.touches.length === 1) {
            isDragging = true;
            startX = event.touches[0].clientX - posX;
            startY = event.touches[0].clientY - posY;
        }
    });

    modal.addEventListener("touchmove", (event) => {
        if (event.touches.length === 2) {
            event.preventDefault();
            const currentDistance = calculateDistance(event.touches);
            if (initialDistance) {
                const scaleChange = currentDistance / initialDistance;
                scale = Math.min(Math.max(1, scale * scaleChange), 3);
                initialDistance = currentDistance;
                applyTransform();
            }
        } else if (event.touches.length === 1 && isDragging) {
            posX = event.touches[0].clientX - startX;
            posY = event.touches[0].clientY - startY;
            applyTransform();
        }
    });

    modal.addEventListener("touchend", () => {
        initialDistance = null;
        isDragging = false;
    });

    function applyTransform() {
        image.style.transform = `scale(${scale}) translate(${posX / scale}px, ${posY / scale}px)`;
    }

    function calculateDistance(touches) {
        const [touch1, touch2] = touches;
        return Math.hypot(
            touch2.clientX - touch1.clientX,
            touch2.clientY - touch1.clientY
        );
    }
}

function closeModal(modal) {
    document.body.removeChild(modal);
    document.body.style.overflow = "auto";
}
</script>

</body>
</html>
